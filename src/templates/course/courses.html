{% extends "layout.html" %} {% block page_content %}

<div class="courses">

  <div class="top-bar">
      <button class="u-pull-right" onclick="location.href = '/course/create'"> Create course </button>
      <h1>Current enrollments</h1>
      
    <select id="courseFilter" name="courseState" onchange="filterChanged()">
        <option value="ACTIVE, PROVISIONED">Active, provisioned</option>
        <option value="ARCHIVED">Archived</option>
    </select>
  </div>

  <div class="courses-container">
      {% if courses %}
      {% for course in courses %}
          <div class="course-item {{ course['courseState'] }}" >


            {% if course['courseState']  == 'PROVISIONED' %}
            <button class="button-primary" onclick="location.href='/course/activate/{{course.id}}';">Activate</button>
              {% endif %}
            <a href="/course/{{ course.id }}">
                  <h2 style="color: darkblue">{{ course.name }}</h2>
                  <h3 style="color: darkblue">{{ course.description }}</h3>

                  {% if course['teacherFolder'] %}
                  <a href="{{ course['teacherFolder']['alternateLink'] }}" target="_blank" class="decorated">Google Drive</a>
                  {% endif %}
              </a>
          </div>
      {% endfor %}
      {% else %}
          <h3>You have not yet joined any classes...</h3>
      {% endif %}

  </div>


</div>



{% endblock %}

{% block scripts %}

<Script>

    let activeCourses = document.querySelectorAll(".course-item")

    function filterChanged(e){
        console.log(e)

        if(selected == active){
            activeCourses.style.diplay = "block"
        }

    }
</Script>

{% endblock %}